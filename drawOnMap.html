<!DOCTYPE HTML>  
<html>  
<head>  
     <meta charset="UTF-8">
    <title></title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: rgba(138,143,156, 0.7);
             overflow-y: scroll;
             -ms-overflow-style:none;
            scrollbar-width:none;
        }

        .body::-webkit-scrollbar{
            display: none;
        }
        #textBlock{
			Float: left;
			width: 500px;
 			margin-left: 5%;
  			
  			font-size:120%; 
  			text-align:left}

        #puzzle{
            width: 2000px;
            
        }
    </style>
</head>  
<body>
    <div>

<div id="textBlock">
 <h3> “I am going for a 7k training run around campus and through Milton-Parc. Follow along with me to learn the name of my favourite event.” <br>Trace the route onto the map using your mouse cursor.</h3>
<p>


 <br> 1. Start at the corner of McTavish and Sherbrooke and head North to Pine Ave

 <br> 2. Turn right and run straight until you see of the Royal Victoria Hospital

<br> 3. Turn right again and follow the curve of the reservoir until you hit McTavish again
<br> 4.Turn left when you get to the Presbyterian College and continue South-East across campus until you get to the corner of University and Sherbrooke
 <br> 5. Quickly sprint to Shuter and back again, then turn North up University
  <br> 6. Turn right on Milton and sprint to Lorne and back again

 <br> 7. Head North to Pine, then turn right
 <br> 8. Continue straight until Durocher, then turn right

 <br> 9. Enjoy an easy downhill jog all the way down to Sherbrooke
 <br> 10. Turn left on Sherbrooke and take another left turn on Park

 <br> 11. When you get to Prince Arthur, take a right and quickly sprint to Rue Sainte-Famille and back
 <br> 12. Head North on Park and then turn right on Pine
 <br> 13. Turn right again on Sainte-Famille and run straight South until you hit Sherbrooke
 <br> 14. Head East until you get to Saint Lawrence
 <br> 15. This is the final push at the end of the run! Sprint up Saint Lawrence until you get to Pine
 <br> 16. Now begin your cooldown by heading back South to Prince Arthur
 <br> 17. Turn right and jog slowly until you get to Saint Urbain
 <br> 18. Turn right again and finish by walking to the corner of Pine and Saint Urbain.  
<br> 
 Great Work! The word you've spelled is the password to unlock my card.
 </p> 
 </div>
<div id="puzzle"> 
</div>
</body>  

<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
    <script>

    const app = new PIXI.Application({
        autoResize: true,
        resolution: devicePixelRatio
    });
    app.renderer.resize(800, 800);
    document.getElementById("puzzle").appendChild(app.view);
    const { stage } = app;

    // prepare circle texture, that will be our brush
    const brush = new PIXI.Graphics();
    brush.position.set(0,0);
    brush.beginFill(0xffffff);
    //brush.drawCircle(0, 0, 50);
    brush.endFill();

    const sprite = PIXI.Sprite.from('images/caticon.png');
    sprite.anchor.set(0.5);
    sprite.x = app.screen.width - 100;
    sprite.y = app.screen.height - 100;
    sprite.scale.x = 0.5;
    sprite.scale.y = 0.5;
    
    sprite.interactive = true;
    sprite.buttonMode = true;

    app.loader.add('t1', 'images/map.jpg');
    app.loader.add('t2', 'images/blackcol.png');
    app.loader.load(setup);

    function setup(loader, resources) {
    const background = new PIXI.Sprite(resources.t1.texture);
    stage.addChild(background);
    background.width = app.screen.width;
    background.height = app.screen.height;

    const imageToReveal = new PIXI.Sprite(resources.t2.texture);
    stage.addChild(imageToReveal);
    imageToReveal.width = app.screen.width;
    imageToReveal.height = app.screen.height;

    const renderTexture = PIXI.RenderTexture.create(app.screen.width, app.screen.height);

    const renderTextureSprite = new PIXI.Sprite(renderTexture);
    stage.addChild(renderTextureSprite);
    imageToReveal.mask = renderTextureSprite;

    app.stage.interactive = true;
    app.stage.on('pointerdown', pointerDown);
    app.stage.on('pointerup', pointerUp);
    app.stage.on('pointermove', pointerMove);
    app.stage.addChild(sprite);
    sprite.on('pointerdown', onClick);

    let dragging = false;

    function pointerMove(event) {
        if (dragging) {
            //brush.position.copyFrom(event.data.global);
             brush.beginFill(0xffffff);
             brush.drawCircle(event.data.global.x, event.data.global.y, 12);
             brush.endFill();
            app.renderer.render(brush, renderTexture, false, null, false);
        }
    }

    function pointerDown(event) {
        dragging = true;
        pointerMove(event);
    }

    function pointerUp(event) {
        dragging = false;
    }

    function onClick(){
        location.reload();
    }


}
    </script>
</html>  